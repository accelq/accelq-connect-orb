description: >
  Execute ACCELQ registered CI Jobs

docker:
  - image: "cimg/node:lts"

parameters:
  url:
    type: string
    description: "Your ACCELQ Application URL in the exact following format: https://<hostname>:<port_num>"
  userId:
    type: string
    description: "ACCELQ User ID"
  apiKey:
    type: string
    description: "API key available in Profile section of ACCELQ"
  tenantCode:
    type: string
    description: "ACCELQ Tenant Code"
  jobId:
    type: string
    description: "ACCELQ CI Job Id"
  runparams:
    type: string
    default: ""
    description: 'Run Params should be JSON string form example: {"username": "John Todd", "password": "bxW&=UVw"}'
  proxyHost:
    type: string
    description: "Proxy Host"
  proxyPort:
    type: string
    description: "Proxy Port"
  agentName:
    type: string
    description: "Agent Name on which you want to run this job"
steps:
  - accelq-ci:
      url: << parameters.url >>
      tenantCode: << parameters.tenantCode >>
      jobId: << parameters.jobId >>
      apiKey: << parameters.apiKey >>
      userId: << parameters.userId >>
      agentName: << parameters.agentName >>
      proxyHost: << parameters.proxyHost >>
      proxyPort: << parameters.proxyPort >>
      runparams: << parameters.runparams >>
